<Page
    x:Class="HolidayMaker.Client.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:HolidayMaker.Client.ViewModel"
    xmlns:model="using:HolidayMaker.Client.Model"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    RequestedTheme="Light"
    >


    <Grid>
        
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <RelativePanel
            Grid.Row="0"
            Grid.Column="14"
            Grid.ColumnSpan="4">
            <StackPanel 
                Orientation="Vertical"
                
                       >
                <Button
                    x:Name="CollapseButton"
                    Width="120"
                    FontFamily="Segoe MDL2 Assets"
                    FontSize="20"
                    Content="&#xE700;"
                    Click="CollapseButton_Click"
                    Background="Transparent"
                    />
 
            </StackPanel>
        </RelativePanel>
        <SplitView
            x:Name="SplitviewMenu"
            Grid.Row="1"
            
            Grid.Column="14"
            HorizontalAlignment="Stretch"
            CompactPaneLength="56"
            OpenPaneLength="130"
            IsPaneOpen="True"
            PanePlacement="Right"
            PaneBackground="Transparent"
           
            >


 
            

            <SplitView.Pane>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>



                        <ListBoxItem
                        x:Name="FirstListBoxItem"
                        Background="Transparent">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    FontFamily="Segoe UI Emoji"
                                    FontSize="24"
                                    Text="&#x1F61D;"
                                    HorizontalAlignment="Center"/>
                            </StackPanel>
                        </ListBoxItem>




                    <ListView Grid.Row="1" Grid.RowSpan="5"
                        x:Name="BookingListview">
                                        <ListView.ItemTemplate>
                                            <DataTemplate 
                                            x:DataType="model:BookedRoom">
                                                <StackPanel>
                                                    <TextBlock
                                                    Text="{x:Bind AccommodationName}"/>
                                                    <TextBlock
                                                    Text="{x:Bind City}"/>
                                                    <TextBlock
                                                    Text="{x:Bind RoomType}"/>
                                                    <TextBlock
                                                    Text="{x:Bind Price}"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>
                                    </ListView>

                        
                    
                    <StackPanel Grid.Row="2">
                            
                                <Button
                                    x:Name="CreateBooking"
                                    Content="Boka!"
                                    Click="CreateBooking_Click" 
                                    Background="Transparent"
                                    Width="110"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                />

                            
                            
                        </StackPanel>
                    
                
                </Grid>
            </SplitView.Pane>

        </SplitView>

        <TextBox x:Name="SearchTextBox" Grid.Column="2" Grid.ColumnSpan="2" Grid.Row="1" VerticalAlignment="Bottom" Foreground="White" PlaceholderText="SEARCH ME" TextChanged="SearchTextBox_TextChanged"></TextBox>

        <!--<Button 
            x:Name="SortingButton"
            Grid.Column="5"
            Grid.Row="1"
            Width="132"
            Height="50"
            Content="Sort by Rating" 
            Foreground="Black" 
            Click="SortingButton_Click" 
            Grid.ColumnSpan="2"/>-->
        
        <AppBarButton
            Icon="Sort"
            IsCompact="True"
            ToolTipService.ToolTip="Sort"
            AutomationProperties.Name="Sort"
            Grid.Column="5"
            Grid.Row="1"
            Height="Auto"
           
           >
            <AppBarButton.Flyout>
                <MenuFlyout>
                    <MenuFlyoutItem Text="By rating" Click="MenuFlyoutItem_Click_Rating" Tag="rating"/>
                    <MenuFlyoutItem Text="By name" Click="MenuFlyoutItem_Click_Name" Tag="name"/>
                </MenuFlyout>
            </AppBarButton.Flyout>
        </AppBarButton>

        <ListView Grid.Column="2" 
                  Grid.Row="2" 
                  Grid.ColumnSpan="3" 
                  Grid.RowSpan="5"
                  x:Name="accListView"
                  ItemsSource="{x:Bind mainPageViewModel.SearchResult}" SelectionChanged="accListView_SelectionChanged">
            <ListView.ItemTemplate>
                <DataTemplate x:DataType="model:Accommodation">
                    <StackPanel>
                        <TextBlock
                        Text="{x:Bind AccommodationName}" Foreground="Black"/>
                        <TextBlock
                        Text="{x:Bind City}" Foreground="Black"/>
                        <TextBlock
                        Text="{x:Bind Rating}" Foreground="Black"/>
                    </StackPanel>
                </DataTemplate>
            </ListView.ItemTemplate>

        </ListView>
        <ListView Grid.Column="6" 
                  Grid.Row="2" 
                  Grid.ColumnSpan="3" 
                  Grid.RowSpan="5"
                  x:Name="roomListView"
                  ItemsSource="{x:Bind ListOfRooms}"
                  >
            <ListView.ItemTemplate>
                <DataTemplate x:DataType="model:Room">
                    <StackPanel>
                        <TextBlock
                        Text="{x:Bind RoomType}" Foreground="Black"/>
                        <TextBlock
                        Text="{x:Bind Price}" Foreground="Black"/>
                        <Button Foreground="Black" Background="Green" Content="Lägg till" Click="AddRoom_Clicked"></Button>
                    </StackPanel>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>


        <Button
                                    FontFamily="Segoe UI Emoji"
                                    FontSize="24"
                                    Content="&#x1F61D;"
                                    HorizontalAlignment="Center"
                                    Background="Transparent"
                                    Click="Button_Click"
                                    />
        <Button 
            x:Name="MyBookings" 
            Content="Button" 
            Margin="60,65,0,0" 
            Grid.Row="1" 
            VerticalAlignment="Top"
            Click="MyBookings_Click"/>
    </Grid>
</Page>
